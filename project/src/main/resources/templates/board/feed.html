<!--
<!DOCTYPE html>
<script type="text/javascript">
  document.addEventListener('load',() => {
    let response_data = null;
    var curPage = 1;
    var cutPage = 20;
    var keyword = null;
    $.ajax({
      url:"/api/content/feed",
      type:"get",
      data:{curPage : curPage, cutPage : cutPage, keyword : keyword}, // 클라이언트에서 서버로 넘기는 파라미터
      dataType:"json", // 응답데이터의 종류
      success:(respons) =>  {
        response_data = respons;
      },
      error:error_run,
      Async : false
    })

    let html = response_data.map(row => {
      const {review_seq, title, view_count, star, img_1, created_at} = row;
      return `
              <div class="col mb-1">
              <div class="card cs-feed-card">
              <img
                src="https://mdbcdn.b-cdn.net/img/new/standard/nature/182.webp"
                class="card-img-top img-fluid"
                alt="Sunset Over the Sea"
              />
              <div class="card-body p-2">
              <p class="card-text">
              <span class="title"><b>${title}</b></span>
      <br />
      <span class="categroy-text">양식, 멕시코</span>
      <span className="stars">
                <i className="fa-solid fa-star star-active fa-xs"></i>
                <i className="fa-solid fa-star star-active fa-xs"></i>
                <i className="fa-solid fa-star star-active fa-xs"></i>
                <i className="fa-solid fa-star-half fa-xs star-active"></i>
                <span className="evaluation-count">(8)</span>
              </span>
      <br />
      <span className="cs-start-user">🧇 ${name}님이 작성</span>
      <br />
    </p>
      <div className="cs-tags mb-2">
        <button
                className="btn btn-tag btn-sm btn-rounded border cs-tag cs-more-tag"
                data-mdb-close="true"
        >
          ⚽️ 모임하기 좋아요
        </button>

        <button
                className="btn btn-tag btn-sm btn-rounded border cs-tag cs-more-tag"
                data-mdb-close="true"
        >
          ⚽️ 모임하기 좋아요
        </button>
        <button
                className="btn btn-tag btn-sm btn-rounded border cs-tag cs-more-tag"
                data-mdb-close="true"
        >
          ⚽️ 모임하기 좋아요
        </button>
        <button
                className="btn btn-tag btn-sm btn-rounded border cs-tag cs-more-tag"
                data-mdb-close="true"
        >
          ⚽️ 모임하기 좋아요
        </button>
      </div>
    </div>
    </div>
    </div>`    }).join('');
    feed_list.append(html);

    function error_run(obj,resmsg,errormsg) {
      console.log("오류발생");
      console.log("obj = " + obj);
      console.log("resmsg = " + resmsg);
      console.log("errormsg = " + errormsg);
    }

  })
</script>
-->
<th:block th:replace="layout/main-layout :: layout(feed,none)">
  <th:block th:fragment="add_header">
    <title>피드</title>
  </th:block>
  <div th:fragment="content" class="cs-main-content-bg cs-content col container-flude p-3">
    <div class="row justify-content-center">
      <div class="col-12 col-md-8">
        <div class="input-group input-group-md p-3">
          <input type="text" id="feed-search" class="form-control" />
          <span class="input-group-append">
            <button
                    type="button"
                    class="btn btn-warning btn-flat cs-feed-search-btn"
            >
              <i class="fa-solid fa-magnifying-glass fa-2xl"></i>
            </button>
          </span>
        </div>
        <div class="position-relative row justify-content-center px-6">
          <div id="feed-auto-complete" class="cs-autocomplete-list col-12 px-0">
            <div class="cs-autocomplete-item">Item 1</div>
            <div class="cs-autocomplete-item">Item 2</div>
            <div class="cs-autocomplete-item">Item 3</div>
            <div class="cs-autocomplete-item">Item 4</div>
            <hr />
            <div class="row mb-3 px-2">
              <h5>태그 선택</h5>
              <div class="col-12 col-sm-auto mb-2">
                <button
                        class="btn btn-tag btn-sm btn-rounded border selected"
                        data-mdb-close="true"
                >
                  ⌛️ 음식이 빨리나와요
                </button>
              </div>
              <div class="col-12 col-sm-auto mb-2">
                <button
                        class="btn btn-tag btn-sm btn-rounded border"
                        data-mdb-close="true"
                >
                  🐶 애완동물 입장이 가능해요
                </button>
              </div>
              <div class="col-12 col-sm-auto mb-2">
                <button
                        class="btn btn-tag btn-sm btn-rounded border"
                        data-mdb-close="true"
                >
                  ⚽️ 모임하기 좋아요
                </button>
              </div>
              <div class="col-12 col-sm-auto mb-2">
                <button
                        class="btn btn-tag btn-sm btn-rounded border"
                        data-mdb-close="true"
                >
                  🤮 위생적이지 않아요
                </button>
              </div>
              <div class="col-12 col-sm-auto mb-2">
                <button
                        class="btn btn-tag btn-sm btn-rounded border"
                        data-mdb-close="true"
                >
                  🥕 살려주세요
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- feed list -->
    <div
            id="feed_list"
            class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 row-cols-xxl-6 p-3 g-4"
    >
      <!--여기서부터 th:each 시작-->
      <div class="col mb-1">
        <div class="card cs-feed-card">
          <img
                  src="https://mdbcdn.b-cdn.net/img/new/standard/nature/182.webp"
                  class="card-img-top img-fluid"
                  alt="Sunset Over the Sea"
          />
          <div class="card-body p-2">
            <p class="card-text">
              <span class="title"><b>출근한지 5분만에 퇴근하는법</b></span>
              <br />
              <span class="categroy-text">양식, 멕시코</span>
              <span class="stars">
                <i class="fa-solid fa-star star-active fa-xs"></i>
                <i class="fa-solid fa-star star-active fa-xs"></i>
                <i class="fa-solid fa-star star-active fa-xs"></i>
                <i class="fa-solid fa-star-half fa-xs star-active"></i>
                <span class="evaluation-count">(8)</span>
              </span>
              <br />
              <span class="cs-start-user">🧇 장보명님이 작성</span>
              <br />
            </p>
            <div class="cs-tags mb-2">
              <button
                      class="btn btn-tag btn-sm btn-rounded border cs-tag cs-more-tag"
                      data-mdb-close="true"
              >
                ⚽️ 모임하기 좋아요
              </button>

              <button
                      class="btn btn-tag btn-sm btn-rounded border cs-tag cs-more-tag"
                      data-mdb-close="true"
              >
                ⚽️ 모임하기 좋아요
              </button>
              <button
                      class="btn btn-tag btn-sm btn-rounded border cs-tag cs-more-tag"
                      data-mdb-close="true"
              >
                ⚽️ 모임하기 좋아요
              </button>
              <button
                      class="btn btn-tag btn-sm btn-rounded border cs-tag cs-more-tag"
                      data-mdb-close="true"
              >
                ⚽️ 모임하기 좋아요
              </button>
            </div>
          </div>
        </div>
      </div>
      <!--여까지-->
      <div class="col mb-1">
        <div class="card cs-feed-card">
          <img
                  src="https://mdbcdn.b-cdn.net/img/new/standard/nature/182.webp"
                  class="card-img-top img-fluid"
                  alt="Sunset Over the Sea"
          />
          <div class="card-body p-2">
            <p class="card-text">
              <span class="title"><b>출근한지 5분만에 퇴근하는법</b></span>
              <br />
              <span class="categroy-text">양식, 멕시코</span>
              <span class="stars">
                <i class="fa-solid fa-star star-active fa-xs"></i>
                <i class="fa-solid fa-star star-active fa-xs"></i>
                <i class="fa-solid fa-star star-active fa-xs"></i>
                <i class="fa-solid fa-star-half fa-xs star-active"></i>
                <span class="evaluation-count">(8)</span>
              </span>
              <br />
              <span class="cs-start-user">🧇 장보명님이 작성</span>
              <br />
            </p>
            <div class="cs-tags mb-2">
              <button
                      class="btn btn-tag btn-sm btn-rounded border cs-tag cs-more-tag"
                      data-mdb-close="true"
              >
                ⚽️ 모임하기 좋아요
              </button>
              <button
                      class="btn btn-tag btn-sm btn-rounded border cs-tag cs-more-tag"
                      data-mdb-close="true"
              >
                🤮 위생적이지 않아요
              </button>
              <button
                      class="btn btn-tag btn-sm btn-rounded border cs-tag cs-more-tag"
                      data-mdb-close="true"
              >
                ⚽️ 모임하기 좋아요
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <th:block th:fragment="add_bottom">
    <script type="text/javascript" th:src="@{/js/feed.js}"></script>
  </th:block>

</th:block>
</html>